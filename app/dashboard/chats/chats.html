<div class="container" style="height: 100%">
  <div class="row">
    <div class="col-sm-6">
      <nav class="navbar navbar-light rounded-sm" id="chatBox" ng-init="getUserChats()">
        <!-- Navbar content -->
          <span>Conversaciones</span>
            <form class="form-inline my-2 my-lg-0 ">
              <div class="input-group mb">
                  <div class="input-group-prepend">
                      <span class="input-group-text" id="basic-addon1"><i class="fas fa-search fa-sm"></i></span>
                  </div>
                  <input class="form-control mr-sm-2" type="text" id="chatSearch" placeholder="Busqueda de chat" ng-model="chatSearch" aria-label="Search">
              </div>
            </form>
            <button class="btn btn-outline-success" data-toggle="modal" data-target="#newChat" ng-click="getContacts()"><i class="fas fa-plus-circle"></i></button>
      </nav> 
      <div class="list-group">
        <a  ng-repeat="chat in userChats | filter: chatSearch"   class="list-group-item list-group-item-action">
          <div class="d-flex w-100 justify-content-between" ng-click="getChat(chat.chatID)">
            <h5 class="mb-1">{{chat.title}}</h5>
            <!-- <small>3 days ago</small> -->
            
          </div>
        </a>
      </div>
    </div>
    <div class="col-sm-6">
      <ui-view></ui-view>
    </div>    
  </div>  
</div>

<div class="modal fade" id="newChat" tabindex="-1" role="dialog" aria-labelledby="newChat" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="chatLabel">Nueva conversación</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Título</label>
            <input type="text" ng-model="title" class="form-control" id="chatTitle">
          </div>
          <div class="form-group">
            <label for="message-text" class="col-form-label">Participantes</label>
            <select class="form-control" id="participants" ng-model="name" multiple>
              <option ng-repeat="contact in contacts" value="{{contact.id}}">{{contact.name}} {{contact.lastname}}</option>
            </select>
          </div>
          <div class="form-group">
            <label for="message-text" class="col-form-label">Llave de chat</label>
            <select class="form-control" id="participants" ng-model="keyname">
              <option ng-repeat="key in keys" value="{{key.keyname}}">{{key.keyname}}</option>
            </select>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="createChat()">Crear</button>
      </div>
    </div>
  </div>
</div>